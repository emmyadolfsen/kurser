"use strict";var coursesEl=document.getElementById("courses"),submitCourse=document.getElementById("submitCourse"),codeInput=document.getElementById("coursecode"),nameInput=document.getElementById("coursename"),progressionInput=document.getElementById("progression"),syllabusInput=document.getElementById("syllabus");function getCourses(){coursesEl.innerHTML="",fetch("http://raggmunkar.se/rest/json.php").then((function(e){return e.json()})).then((function(e){e.forEach((function(e){console.log(e.course_code),coursesEl.innerHTML+='<div id="table">\n                <span id="'.concat(e.id,'" class="code hover" onClick="setCourse(').concat(e.id,'); this.onclick=null;">').concat(e.course_code,'</span>\n                <span class="name">').concat(e.course_name,'</span>\n                <span class="prog">').concat(e.progression,'</span>\n                <span class="plan">').concat(e.syllabus,'<button id="').concat(e.id,'" onClick="deleteCourse(').concat(e.id,')">Ta bort</button></span>\n                </div><div class="table" id="newDiv').concat(e.id,'"></div>\n                ')}))}))}function deleteCourse(e){fetch("http://raggmunkar.se/rest/json.php?id="+e,{method:"DELETE"}).then((function(e){return e.json()})),location.reload().catch((function(e){console.log("Error:",e)}))}function addCourse(){var e={course_code:codeInput.value,course_name:nameInput.value,progression:progressionInput.value,syllabus:syllabusInput.value};fetch("http://raggmunkar.se/rest/json.php",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log("Error:",e)}))}function setCourse(e){console.log("update"+e);var n=document.getElementById("newDiv"+e);fetch("http://raggmunkar.se/rest/json.php?id="+e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e[0].course_name),n.innerHTML+='\n            <span class="code"><input type="text" id="update-coursecode'.concat(e[0].id,'" name="update-coursecode" value="').concat(e[0].course_code,'"></span>\n            <span class="name"><input type="text" id="update-coursename').concat(e[0].id,'" name="update-coursename" value="').concat(e[0].course_name,'"></span>\n            <span class="prog"><input type="text" id="update-progression').concat(e[0].id,'" name="update-progression" value="').concat(e[0].progression,'"></span>\n            <span class="plan"><input type="text" id="update-syllabus').concat(e[0].id,'" name="update-syllabus" value="').concat(e[0].syllabus,'"><button id="update').concat(e[0].id,'" onClick="updateCourse(').concat(e[0].id,'); this.onclick=null;">Ã„ndra</button></span>\n            ')}))}function updateCourse(e){var n=document.getElementById("update-coursecode"+e).value,t=document.getElementById("update-coursename"+e).value,o=document.getElementById("update-progression"+e).value,s=document.getElementById("update-syllabus"+e).value,c={course_code:n,course_name:t,progression:o,syllabus:s};console.log(n+t+o+s),fetch("http://raggmunkar.se/rest/json.php?id="+e,{method:"PUT",body:JSON.stringify(c)}).then((function(e){return e.json()})),location.reload().catch((function(e){console.log("Error:",e)}))}window.addEventListener("load",getCourses),submitCourse.addEventListener("click",addCourse);
//# sourceMappingURL=main.js.map
