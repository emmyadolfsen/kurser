{"version":3,"sources":["js/main.js"],"names":["coursesEl","document","getElementById","submitCourse","codeInput","nameInput","progressionInput","syllabusInput","getCourses","innerHTML","fetch","then","response","json","data","forEach","course","console","log","course_code","concat","id","course_name","progression","syllabus","deleteCourse","method","location","reload","error","addCourse","value","body","JSON","stringify","setCourse","newDivEl","updateCourse","coursecode","coursename","window","addEventListener"],"mappings":"AAAA,aAIA,IAAIA,UAAYC,SAASC,eAAe,WACpCC,aAAeF,SAASC,eAAe,gBACvCE,UAAYH,SAASC,eAAe,cACpCG,UAAYJ,SAASC,eAAe,cACpCI,iBAAmBL,SAASC,eAAe,eAC3CK,cAAgBN,SAASC,eAAe,YAY5C,SAASM,aACLR,UAAUS,UAAY,GACtBC,MAAM,uCACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACFA,EAAKC,SAAQ,SAAAC,GACTC,QAAQC,IAAIF,EAAOG,aACnBnB,UAAUS,WAAV,+CAAAW,OAEYJ,EAAOK,GAFnB,sCAAAD,OAE0DJ,EAAOK,GAFjE,2BAAAD,OAE6FJ,EAAOG,YAFpG,gDAAAC,OAGqBJ,EAAOM,YAH5B,gDAAAF,OAIqBJ,EAAOO,YAJ5B,gDAAAH,OAKqBJ,EAAOQ,SAL5B,gBAAAJ,OAKmDJ,EAAOK,GAL1D,4BAAAD,OAKuFJ,EAAOK,GAL9F,mFAAAD,OAMqCJ,EAAOK,GAN5C,oCAchB,SAASI,aAAaJ,GAClBX,MAAM,0CAA4CW,EAAI,CAC9CK,OAAQ,WAEXf,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC/Bc,SAASC,SAAT,OACW,SAAAC,GACHZ,QAAQC,IAAI,SAAUW,MAIlC,SAASC,YACL,IAKId,EAAS,CAAEG,YALEf,UAAU2B,MAKeT,YAJzBjB,UAAU0B,MAI0CR,YAHnDjB,iBAAiByB,MAG8DP,SAFlFjB,cAAcwB,OAK7BrB,MAAM,sCAAuC,CACrCgB,OAAQ,OACRM,KAAMC,KAAKC,UAAUlB,KAExBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAJ/B,OAMW,SAAAgB,GACHZ,QAAQC,IAAI,SAAUW,MAKlC,SAASM,UAAUd,GACfJ,QAAQC,IAAI,SAAWG,GACvB,IAAIe,EAAWnC,SAASC,eAAe,SAAWmB,GAElDX,MAAM,0CAA4CW,EAAI,CAC9CK,OAAQ,QAEXf,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAK,GACFC,QAAQC,IAAIF,EAAO,GAAGM,aACtBc,EAAS3B,WAAT,4EAAAW,OAE6DJ,EAAO,GAAGK,GAFvE,sCAAAD,OAE8GJ,EAAO,GAAGG,YAFxH,sFAAAC,OAG6DJ,EAAO,GAAGK,GAHvE,sCAAAD,OAG8GJ,EAAO,GAAGM,YAHxH,uFAAAF,OAI8DJ,EAAO,GAAGK,GAJxE,uCAAAD,OAIgHJ,EAAO,GAAGO,YAJ1H,oFAAAH,OAK2DJ,EAAO,GAAGK,GALrE,oCAAAD,OAK0GJ,EAAO,GAAGQ,SALpH,wBAAAJ,OAKmJJ,EAAO,GAAGK,GAL7J,4BAAAD,OAK0LJ,EAAO,GAAGK,GALpM,iEAWZ,SAASgB,aAAahB,GAElB,IAAIiB,EAAarC,SAASC,eAAe,oBAAsBmB,GAAIU,MAC/DQ,EAAatC,SAASC,eAAe,oBAAsBmB,GAAIU,MAC/DR,EAActB,SAASC,eAAe,qBAAuBmB,GAAIU,MACjEP,EAAWvB,SAASC,eAAe,kBAAoBmB,GAAIU,MAE3Df,EAAS,CAAEG,YAAemB,EAAYhB,YAAeiB,EAAYhB,YAAeA,EAAaC,SAAYA,GAE7GP,QAAQC,IAAIoB,EAAaC,EAAahB,EAAcC,GAEpDd,MAAM,0CAA4CW,EAAI,CAC9CK,OAAQ,MACRM,KAAMC,KAAKC,UAAUlB,KAExBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC/Bc,SAASC,SAAT,OACW,SAAAC,GACHZ,QAAQC,IAAI,SAAUW,MAjGlCW,OAAOC,iBAAiB,OAAQjC,YAChCL,aAAasC,iBAAiB,QAASX","file":"main.js","sourcesContent":["\"use strict\"\n\n\n// Variabler\nlet coursesEl = document.getElementById('courses');\nlet submitCourse = document.getElementById('submitCourse');\nlet codeInput = document.getElementById('coursecode');\nlet nameInput = document.getElementById('coursename');\nlet progressionInput = document.getElementById('progression');\nlet syllabusInput = document.getElementById('syllabus');\n\n\n\n\n\n// Händelsehanterare\nwindow.addEventListener('load', getCourses);\nsubmitCourse.addEventListener('click', addCourse);\n\n\n\nfunction getCourses() {\n    coursesEl.innerHTML = '';\n    fetch('http://localhost:8888/REST/json.php')\n        .then(response => response.json())\n        .then(data => {\n            data.forEach(course => {\n                console.log(course.course_code)\n                coursesEl.innerHTML +=\n                    `<div id=\"table\">\n                <span id=\"${course.id}\" class=\"code\" onClick=\"setCourse(${course.id}); this.onclick=null;\">${course.course_code}</span>\n                <span class=\"name\">${course.course_name}</span>\n                <span class=\"prog\">${course.progression}</span>\n                <span class=\"plan\">${course.syllabus}<button id=\"${course.id}\" onClick=\"deleteCourse(${course.id})\">Ta bort</button></span>\n                </div><div class=\"table\" id=\"newDiv${course.id}\"></div>\n                `\n\n\n            })\n        })\n}\n\nfunction deleteCourse(id) {\n    fetch('http://localhost:8888/REST/json.php?id=' + id, {\n            method: 'DELETE',\n        })\n        .then(response => response.json())\n    location.reload()\n        .catch(error => {\n            console.log('Error:', error);\n        })\n}\n\nfunction addCourse() {\n    let coursecode = codeInput.value;\n    let coursename = nameInput.value;\n    let progression = progressionInput.value;\n    let syllabus = syllabusInput.value;\n\n    let course = { 'course_code': coursecode, 'course_name': coursename, 'progression': progression, 'syllabus': syllabus };\n\n\n    fetch('http://localhost:8888/REST/json.php', {\n            method: 'POST',\n            body: JSON.stringify(course),\n        })\n        .then(response => response.json())\n        //location.reload()\n        .catch(error => {\n            console.log('Error:', error);\n        })\n}\n\n\nfunction setCourse(id) {\n    console.log('update' + id)\n    let newDivEl = document.getElementById('newDiv' + id)\n\n    fetch('http://localhost:8888/REST/json.php?id=' + id, {\n            method: 'GET',\n        })\n        .then(response => response.json())\n        .then(course => {\n            console.log(course[0].course_name)\n            newDivEl.innerHTML +=\n                `\n            <span class=\"code\"><input type=\"text\" id=\"update-coursecode${course[0].id}\" name=\"update-coursecode\" value=\"${course[0].course_code}\"></span>\n            <span class=\"name\"><input type=\"text\" id=\"update-coursename${course[0].id}\" name=\"update-coursename\" value=\"${course[0].course_name}\"></span>\n            <span class=\"prog\"><input type=\"text\" id=\"update-progression${course[0].id}\" name=\"update-progression\" value=\"${course[0].progression}\"></span>\n            <span class=\"plan\"><input type=\"text\" id=\"update-syllabus${course[0].id}\" name=\"update-syllabus\" value=\"${course[0].syllabus}\"><button id=\"update${course[0].id}\" onClick=\"updateCourse(${course[0].id}); this.onclick=null;\">Ändra</button></span>\n            `\n        })\n\n}\n\nfunction updateCourse(id) {\n\n    let coursecode = document.getElementById('update-coursecode' + id).value;\n    let coursename = document.getElementById('update-coursename' + id).value;\n    let progression = document.getElementById('update-progression' + id).value;\n    let syllabus = document.getElementById('update-syllabus' + id).value;\n\n    let course = { 'course_code': coursecode, 'course_name': coursename, 'progression': progression, 'syllabus': syllabus };\n\n    console.log(coursecode + coursename + progression + syllabus)\n\n    fetch('http://localhost:8888/REST/json.php?id=' + id, {\n            method: 'PUT',\n            body: JSON.stringify(course),\n        })\n        .then(response => response.json())\n    location.reload()\n        .catch(error => {\n            console.log('Error:', error);\n        })\n\n}"]}